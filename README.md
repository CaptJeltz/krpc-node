# krpc-node

A node.js client library for krpc. Allows you to send commands to Kerbal Space Program from node.

> JavaScript to space via krpc!

![NPM](https://nodei.co/npm/krpc-node.svg)

![Build status](https://travis-ci.org/eXigentCoder/krpc-node.svg?branch=master)

# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Table of Contents

-   Client:
-   [Client](#Client)
-   Services:

## Client

Create a new krpc-node client

**Parameters**

-   `options` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The options used to create the client
    -   `options.protocol` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The protocol to use to connect to the server. ws or wss.
    -   `options.host` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The host address of the server.
    -   `options.port` **([string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number))** The port number on which to connect to the server.
    -   `options.wsProtocols` **\[([string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>)]** WebSocket protocols.
-   `object`  } - Additional connection options.

Returns **[client](#client)** 

## client

An instance of the Client class

**Properties**

-   `socket` **[WebSocket](https://developer.mozilla.org/en-US/docs/WebSockets)** The underlying websocket instance
-   `emitter` **EventEmitter** The emitter that handles events.
-   `decodeStack` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)>** The stack of functions to use to decode responses from the server.
-   `send` **[send](#send)** Sends one or more calls to the server to process
-   `on` **[on](#on)** Registers for one of the events [open, message, error, close].

## on

Registers for one of the events [open, message, error, close].

**Parameters**

-   `eventName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The event to register for [open, message, error, close].
-   `fn` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The function to execute when an event happens

## send

Sends one or more calls to the server to process

**Parameters**

-   `calls` **([procedureCall](#procedurecall) \| [Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[procedureCall](#procedurecall)>)** One or more calls to send to the server.

## procedureCall

A procedure call with a decode function an a procedure object to send to the server

**Properties**

-   `decode` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The function used to decode the response from the server.
-   `call` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The actual call + arguments to send to the server to execute.
